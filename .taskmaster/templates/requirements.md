# Admin 페이지 로그인 기능 요구사항

## 개요
메인 화면에서 `/admin` 경로로 라우팅 전환 시 Supabase Authentication을 이용한 로그인 기능을 구현합니다.

## 기능 요구사항

### 1. 인증 시스템
- **인증 제공자**: Supabase Authentication
- **인증 방식**: 이메일/패스워드 기반 로그인
- **세션 관리**: Supabase 세션을 통한 로그인 상태 유지

### 2. 라우팅 보호
- `/admin` 경로 접근 시 인증 상태 확인
- 미인증 사용자는 로그인 페이지로 리다이렉트
- 인증된 사용자만 admin 페이지 접근 허용

### 3. 로그인 페이지
- **경로**: `/admin/login` 또는 `/login`
- **UI 구성요소**:
  - 이메일 입력 필드
  - 패스워드 입력 필드
  - 로그인 버튼
  - 에러 메시지 표시 영역
- **유효성 검사**: 이메일 형식 및 필수 입력 검증

### 4. 인증 상태 관리
- 전역 상태로 사용자 인증 정보 관리
- 로그인 성공 시 사용자 정보 저장
- 로그아웃 기능 제공

## 기술적 요구사항

### 1. Supabase 설정
- Supabase 프로젝트 생성 및 설정
- 환경 변수 설정 (SUPABASE_URL, SUPABASE_ANON_KEY)
- Supabase 클라이언트 초기화

### 2. Next.js 미들웨어
- `/admin` 경로에 대한 인증 미들웨어 구현
- 인증되지 않은 사용자 리다이렉트 처리

### 3. 컴포넌트 구조
- `AuthProvider`: 인증 상태 관리 컨텍스트
- `LoginForm`: 로그인 폼 컴포넌트
- `ProtectedRoute`: 보호된 라우트 컴포넌트

### 4. API 라우트
- `/api/auth/login`: 로그인 처리
- `/api/auth/logout`: 로그아웃 처리
- `/api/auth/user`: 현재 사용자 정보 조회

## 사용자 경험 (UX)

### 1. 로그인 플로우
1. 사용자가 `/admin` 접근 시도
2. 인증 상태 확인
3. 미인증 시 로그인 페이지로 리다이렉트
4. 로그인 성공 시 원래 요청한 `/admin` 페이지로 이동

### 2. 에러 처리
- 잘못된 로그인 정보 시 명확한 에러 메시지
- 네트워크 오류 시 적절한 안내
- 로딩 상태 표시

### 3. 보안 고려사항
- 패스워드 입력 시 마스킹 처리
- CSRF 보호
- 세션 만료 처리

## 구현 우선순위

1. **Phase 1**: Supabase 설정 및 기본 인증 구조
2. **Phase 2**: 로그인 페이지 및 폼 구현
3. **Phase 3**: 라우트 보호 미들웨어 구현
4. **Phase 4**: 사용자 경험 개선 및 에러 처리

## 테스트 요구사항

- 로그인/로그아웃 기능 테스트
- 보호된 라우트 접근 테스트
- 세션 만료 시나리오 테스트
- 다양한 에러 상황 테스트

## 참고 사항

- 현재 프로젝트는 Next.js 14+ App Router 사용
- TypeScript 환경
- Tailwind CSS 스타일링
- 기존 UI 컴포넌트와 일관성 유지